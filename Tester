-- Script to toggle the visibility of the frame at "game:GetService(\"CoreGui\").SimpleSpy2.Background"
local toggleScreen = Instance.new("ScreenGui")
local toggleButton = Instance.new("TextButton")

-- Parent the ScreenGui to the player's PlayerGui
toggleScreen.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Set up the toggle button properties
toggleButton.Size = UDim2.new(0, 100, 0, 50)
toggleButton.Position = UDim2.new(0.5, -50, 0.8, -25)
toggleButton.Text = ""
toggleButton.BackgroundColor3 = Color3.fromRGB(37, 35, 38)

-- Create UICorner for the toggle button
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0, 8)
uiCorner.Parent = toggleButton
toggleButton.Parent = toggleScreen

-- Function to check the visibility of the Background frame
local function updateButtonText()
    local backgroundFrame = game:GetService("CoreGui"):FindFirstChild("SimpleSpy2")
    if backgroundFrame and backgroundFrame:FindFirstChild("Background") then
        local frame = backgroundFrame.Background
        if frame.Visible then
            toggleButton.Text = "C"
        else
            toggleButton.Text = "O"
        end
    else
        warn("Background frame not found!")
    end
end

-- Initial update of the button text
updateButtonText()

-- Function to toggle the visibility of the Background frame
local function toggleVisibility()
    local backgroundFrame = game:GetService("CoreGui"):FindFirstChild("SimpleSpy2")
    if backgroundFrame and backgroundFrame:FindFirstChild("Background") then
        local frame = backgroundFrame.Background
        frame.Visible = not frame.Visible
        updateButtonText()
    else
        warn("Background frame not found!")
    end
end

-- Connect the button click to toggle the visibility of the Background frame
toggleButton.MouseButton1Click:Connect(toggleVisibility)
